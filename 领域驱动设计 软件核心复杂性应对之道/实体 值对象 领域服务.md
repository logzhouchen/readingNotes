# 概念描述
定义那些用来捕捉领域概念的对象，并反映其含义 以及 之间的关联
Entity: 用来表示某种具有连续性和标识的事物(可以跟踪它所经历的不同状态)
Value Object: 描述某种状态的属性
Service: 适合用某些无状态的活动或操作来表示，不应把操作的责任强加到某个Entity/Value Object上

## 关联
模型中每个可遍历的关联，在实现中都要有同样的属性机制。为了使得设计更加简单，需要简化模型中的关联，消除多对多关联
1. 规定一个遍历方向
2. 添加一个限定条件，以便有效地减少多重关联
3. 消除不必要的关联

坚持将关联限定为领域所倾向的方向，不仅可以提高这些关联的表达力并简化其实现，而且可以突出剩下的双向关联的重要性。

## 实体
很多对象不是通过它的属性定义的，而是通过连续性和标识定义的。主要由标识定义的对象被称作Entity，标识不变化，但是其他状态会有连续性变化

### 实体标识
Entity具有生命周期，这期间它们的形式和内容可能发生根本变化。为了有效跟踪这些对象，必须定义其标识，它们的类定义，职责，属性和关联关系必须由其标识来决定，而不是其属性。
在通过属性(而不是 标识)去定位对象时得确认，能唯一确定到所需要的Entity

标识定义方式
1. 业务唯一性字段
2. 添加唯一Id符号 (如一个数字 或者 字符串)


## 值对象
用于描述领域的某个方面特征而本身没有概念标识的对象 称之为值对象。我们关心他们是什么(属性特征)，而不关心它们是谁(具体是哪个对象)
值对象 可以是其他对象的集合，甚至可以引用Entity实体，这种情况下它包含的属性应该成为一个整体， 使得包含该值对象的 实体/值对象 更简洁

### [复制]，[共享->不可变]
复制：值对象 可以复制给 其他实体来使用，生成一个新的副本，因为我们不关心具体具体是哪个值对象 (空间 换 时间)
共享：甚至不少实体不需要该 值对象实例，可以共享同一个值对象。 --共享时，修改一处则所有共享处都会变化，这就要求值对象必须是不可变的

以下情况最好用共享：
1. 节省数据库空间 或 减少对象数量 是一个关键要求(空间)
2. 通信开销很低(修改后 需要严格保证可见性，需要增加通信请求)
3. 共享对象被严格限定为不可变


## 领域服务
某些领域内特殊的操作 从概念上讲不属于任何一个实体 或者 值对象，但还是有自己的职责 以及 履行该职责的接口

领域服务 和 应用层服务：
1. 领域服务 和 应用层服务都可以负责对领域对象的行为进行聚合，但是领域服务聚合提供的服务 包含重要业务规则，在领域中是有意义的
2. 在简单的应用层服务接口，及细粒度的领域对象之间 封装了一层中等粒度，无状态的Service，更容易被复用；同时防止领域对象中的领域规则(知识)泄漏到应用层，造成处理麻烦


# 设计原则
1. 保持实体简洁，摆脱实体属性和行为这些细枝末节，抓住 识别/查找/匹配对象的最基本特征。只添加那些对概念至关重要的行为和这些行为所需的属性，并将其他属性和行为 转移到与核心实体关联的其他对象中，通过协调关联对象的操作 来完成自己的职责
2. 当我们只关心一个模型元素的属性时，应将他归类为 值对象，且 值对象是不可变的，不需要为它分配任何标识，不用设计得和Entity那么复杂
